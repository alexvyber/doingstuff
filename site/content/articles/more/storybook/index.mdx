import Image from "next/image"

import { ArticleLayout } from "@/layouts/article-layout"

import one from "./one.png"
import two from "./two.png"

export const meta = {
  author: "Alex Vyber",
  date: "2023-02-03",
  title: "How to Use Storybook for Component Development",
  description:
    "I want to share a small tip regarding the block scope. Specifically when we want to create it on purpose.",
}

export default (props) => <ArticleLayout meta={meta} {...props} />

## Problem

React components are the stable building material of React applications. If we write them carefully,
we can reuse the components in other React applications. But when you build a component, it takes
work to check how it works in all circumstances. For example, in an asynchronous application, React
might render the component with undefined properties. Will the component still render correctly?
Will it show errors? But if you are building components as part of a complex application, it can be
tough to create all of the situations with which your component will need to cope. Also, if you have
specialized user experience (UX) developers working on your team, it can waste a lot of time if they
have to navigate through an application to view the single component they have in development. It
would be helpful if there were some way of displaying a component in isolation and passing it
example sets of properties.

## Solution

Storybook is a tool for displaying libraries of components in various states. You could describe it
as a gallery for components, but that’s probably selling it short. In reality, Storybook is a tool
for component development. How do we add Storybook to a project? Let’s begin by creating a React
application with create-react-app:

`npx create-react-app my-app`

`cd my-app`

Now we can add Storybook to the project:

`npx sb init`

We then start the Storybook server with yarn or npm:

`npm run storybook`

Storybook runs a separate server on port 9000, as you can see in Figure 1-11. When you use
Storybook, there is no need to run the actual React application.

<Image src={one} alt="" className="shadow-lg" />

Storybook calls a single component rendered with example properties a story. The default
installation of Storybook generates sample stories in the src/stories directory of the application.
For example, this is src/stories/Button.stories.js:

```JavaScript
import React from "react"
import { Button } from "./Button"
export default {
  title: "Example/Button",
  component: Button,
  argTypes: {
    backgroundColor: { control: "color" },
  },
}
const Template = args => <Button {...args} />
export const Primary = Template.bind({})
Primary.args = {
  primary: true,
  label: "Button",
}
export const Secondary = Template.bind({})
Secondary.args = {
  label: "Button",
}
export const Large = Template.bind({})
Large.args = {
  size: "large",
  label: "Button",
}
export const Small = Template.bind({})
Small.args = {
  size: "small",
  label: "Button",
}
```

Storybook watches for files named \*.stories.js in your source folder, and it doesn’t care where
they are, so you are free to create them where you like. One typical pattern places the stories in a
folder alongside the component they are showcasing. So if you copy the folder to a different
application, you can include stories as living documentation.

<Image src={two} alt="" className="shadow-lg" />

## Throughs

Despite its simple appearance, Storybook is a productive development tool. It allows you to focus on
one component at a time. Like a kind of visual unit test, it enables you to try a component in a
series of possible scenarios to check that it behaves appropriately. Storybook also has a large
selection of additional add-ons. The add-ons allow you to:

- Check for accessibility problems (addon-a11y)
- Add interactive controls for setting properties (Knobs)
- Include inline documentation for each story (Docs)
- Record snapshots of the HTML to test the impact of changes (Storyshots)

  And do much more. For further information about Storybook, see the website. You can download the
  source for this recipe from the GitHub site.
